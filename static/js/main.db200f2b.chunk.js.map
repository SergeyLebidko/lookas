{"version":3,"sources":["components/common/Preloader/Preloader.js","components/pages/Main/Main.js","components/pages/About/About.js","components/pages/Materials/Materials.js","components/pages/Command/Command.js","components/pages/Learn/Learn.js","components/pages/Contacts/Contacts.js","utils/context.js","constants/settings.js","utils/utils.js","components/App/App.js","utils/hooks.js","index.js"],"names":["PULSAR_RISE_MODE","PULSAR_JUMP_MODE","PULSAR_REMOVE_MODE","CAP_RISE_MODE","CAP_REMOVE_MODE","Preloader","mountContent","hasAllLoad","hidePreloader","useState","mode","setMode","capAnimationCount","useRef","pulsarJumpCount","capClasses","classNames","pulsarClasses","getCapInline","index","left","width","animationDelay","modeSwitcher","current","CAP_COUNT","className","Array","fill","map","_","style","onAnimationEnd","onAnimationIteration","Main","About","Materials","Command","Learn","Contacts","appContext","createContext","V_DIRECTION_LIMIT","H_DIRECTION_LIMIT","V_DIRECTION","H_DIRECTION","getDirection","App","appRef","hasContent","setHasContent","hasPreloader","setHasPreloader","imgLoadCount","setImgLoadCount","useEffect","i","setTimeout","oldValue","elementRef","scrollEnabled","line","direction","window","innerWidth","scrollControlData","setScrollControlData","oldWidth","addEventListener","wheelHandler","scrollHandler","resizeHandler","removeEventListener","event","deltaY","scrollTo","delta","steps","curScrollLeft","scrollLeft","curWidth","scrollTop","oldData","useScrollControl","ref","overflow","Provider","value","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.db200f2b.chunk.js","sourcesContent":["import React, {useRef, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport \"./Preloader.scss\";\n\nconst PULSAR_RISE_MODE = 'pulsar_rise';\nconst PULSAR_JUMP_MODE = 'pulsar_jump';\nconst PULSAR_REMOVE_MODE = 'pulsar_remove';\n\nconst CAP_RISE_MODE = 'cap_rise';\nconst CAP_REMOVE_MODE = 'cap_remove';\n\nconst CAP_COUNT = 10;\nconst JUMP_MIN_LIMIT = 3;\n\nfunction Preloader({mountContent, hasAllLoad, hidePreloader}) {\n    const [mode, setMode] = useState(CAP_RISE_MODE);\n\n    const capAnimationCount = useRef(0);\n    const pulsarJumpCount = useRef(0);\n\n    const capClasses = classNames(\n        'preloader__cap_element',\n        {\n            'preloader__raised_cap_element': mode === CAP_RISE_MODE,\n            'preloader__removed_cap_element': mode === CAP_REMOVE_MODE\n        }\n    );\n\n    const pulsarClasses = classNames(\n        'preloader__pulsar',\n        {\n            'preloader__rised_pulsar': mode === PULSAR_RISE_MODE,\n            'preloader__jumped_pulsar': mode === PULSAR_JUMP_MODE,\n            'preloader__removed_pulsar': mode === PULSAR_REMOVE_MODE\n        }\n    );\n\n    const getCapInline = index => ({\n        left: `${index * (100 / CAP_COUNT)}%`,\n        width: `${100 / CAP_COUNT}%`,\n        animationDelay: `${200 * (index + 3)}ms`\n    });\n\n    const hasPulsar = () => mode === PULSAR_RISE_MODE || mode === PULSAR_JUMP_MODE || mode === PULSAR_REMOVE_MODE;\n\n    const modeSwitcher = () => {\n        if (mode === CAP_RISE_MODE) {\n            capAnimationCount.current += 1;\n            if (capAnimationCount.current === CAP_COUNT) {\n                setMode(PULSAR_RISE_MODE);\n                mountContent();\n                return;\n            }\n        }\n\n        if (mode === PULSAR_RISE_MODE) {\n            setMode(PULSAR_JUMP_MODE);\n            return;\n        }\n\n        if (mode === PULSAR_JUMP_MODE) {\n            pulsarJumpCount.current += 1;\n            if (pulsarJumpCount.current >= JUMP_MIN_LIMIT && hasAllLoad) setMode(PULSAR_REMOVE_MODE);\n            return;\n        }\n\n        if (mode === PULSAR_REMOVE_MODE) {\n            setMode(CAP_REMOVE_MODE);\n            return;\n        }\n\n        if (mode === CAP_REMOVE_MODE) {\n            capAnimationCount.current += 1;\n            if (capAnimationCount.current === (CAP_COUNT * 2)) hidePreloader();\n        }\n    }\n\n    return (\n        <div className=\"preloader\">\n            {Array(CAP_COUNT).fill(true).map(\n                (_, index) =>\n                    <div\n                        key={index}\n                        className={capClasses}\n                        style={getCapInline(index)}\n                        onAnimationEnd={modeSwitcher}\n                    />\n            )}\n            {hasPulsar() &&\n            <div\n                className={pulsarClasses}\n                onAnimationIteration={modeSwitcher}\n                onAnimationEnd={modeSwitcher}\n            />\n            }\n        </div>\n    );\n}\n\nPreloader.propTypes = {\n    mountContent: PropTypes.func,\n    hasAllLoad: PropTypes.bool,\n    hidePreloader: PropTypes.func\n}\n\nexport default Preloader;\n","import React from \"react\";\nimport \"./Main.scss\";\n\nfunction Main() {\n    return (\n        <section className=\"main bordered\">\n            <h1>Tanya Lookas</h1>\n            <p>design & decor</p>\n        </section>\n    );\n}\n\nexport default Main;","import React from \"react\";\nimport \"./About.scss\";\n\nfunction About() {\n    return (\n        <section className=\"about bordered\">\n            <h1>Привет! Меня зовут Таня!</h1>\n            <p>Я дизайнер-декоратор с более чем десятилетним опытом работы</p>\n        </section>\n    );\n}\n\nexport default About;","import React from \"react\";\nimport \"./Materials.scss\";\n\nfunction Materials() {\n    return (\n        <section className=\"materials bordered\">\n            <h1>Я работаю с самыми разными материалами</h1>\n            <p>Картон. Гипс. Штукатурка. Полимерная глина. Акрил. Пенопласт. Металл. Дерево. И это далеко не всё... ;)</p>\n        </section>\n    );\n}\n\nexport default Materials;","import React from \"react\";\nimport \"./Command.scss\";\n\nfunction Command() {\n\n    return (\n        <section className=\"command bordered\">\n            <h1>Вокруг меня коллектив профессионалов</h1>\n            <p>\n                Я работаю в команде с флористами, фотографами, ведущими, осветителями,\n                другими дизайнерами, настоящими мастерами своего дела\n            </p>\n        </section>\n    );\n}\n\nexport default Command;","import React from \"react\";\nimport \"./Learn.scss\";\n\nfunction Learn() {\n    return (\n        <section className=\"learn bordered\">\n            <h1>Я постоянно прокачиваю свои навыки</h1>\n            <p>Участвую в семинарах, конференциях, мастер-классах. Учусь сама и учу других.</p>\n        </section>\n    );\n}\n\nexport default Learn;","import React from \"react\";\nimport \"./Contacts.scss\";\n\nfunction Contacts() {\n    return (\n        <section className=\"contacts bordered\">\n            <h1>Связаться со мной можно тут</h1>\n            <p>...здесь будет список ссылок на vk, instagram, telegram, whatsapp, email...</p>\n        </section>\n    );\n}\n\nexport default Contacts;","import {createContext} from \"react\";\n\nexport const appContext = createContext({});","// TODO. Тестовое значение. В дальнейшем должно быть откорректировано\nexport const IMG_COUNT = 10;\n\n// Граница изменения направления\nexport const V_DIRECTION_LIMIT = 1023;\nexport const H_DIRECTION_LIMIT = 1024;\n\n// Константы направления\nexport const V_DIRECTION = 'v_direction';\nexport const H_DIRECTION = 'h_direction';\n\n// Параметры горизонтального скролла\nexport const SCROLL_DELTA = 2;\nexport const SCROLL_TIMING = 10;\nexport const SCROLL_STEPS_LIMIT = 30;","import {H_DIRECTION_LIMIT, V_DIRECTION_LIMIT, H_DIRECTION, V_DIRECTION} from \"../constants/settings\";\n\nexport function getDirection(width) {\n    if (width <= V_DIRECTION_LIMIT) return V_DIRECTION;\n    if (width >= H_DIRECTION_LIMIT) return H_DIRECTION;\n    return null;\n}","import React, {useEffect, useRef, useState} from \"react\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport Main from \"../pages/Main/Main\";\nimport About from \"../pages/About/About\";\nimport Materials from \"../pages/Materials/Materials\";\nimport Command from \"../pages/Command/Command\";\nimport Learn from \"../pages/Learn/Learn\";\nimport Contacts from \"../pages/Contacts/Contacts\";\nimport {appContext} from \"../../utils/context\";\nimport {IMG_COUNT} from \"../../constants/settings\";\nimport \"./App.scss\";\nimport {useScrollControl} from \"../../utils/hooks\";\n\nfunction App() {\n    const appRef = useRef(null);\n\n    const [hasContent, setHasContent] = useState(false);\n    const [hasPreloader, setHasPreloader] = useState(true);\n\n    const [imgLoadCount, setImgLoadCount] = useState(0);\n\n    const mountContent = () => setHasContent(true);\n    const imgLoadHandler = () => setImgLoadCount(oldValue => oldValue + 1);\n    const hidePreloader = () => setHasPreloader(false);\n\n    // TODO. Тестовый код имитирующий загрузку изображений. В дальнейшем должен быть удален\n    useEffect(() => {\n        for (let i = 0; i < IMG_COUNT; i++) setTimeout(() => imgLoadHandler(), i * 200);\n    }, []);\n\n    const {line, direction} = useScrollControl(appRef, !hasPreloader);\n\n    return (\n        <div className=\"app\" ref={appRef} style={hasPreloader ? {overflow: 'hidden'} : {}}>\n            <appContext.Provider value={{hasPreloader, line, direction}}>\n                {hasContent &&\n                <>\n                    <Main/>\n                    <About/>\n                    <Materials/>\n                    <Command/>\n                    <Learn/>\n                    <Contacts/>\n                </>\n                }\n            </appContext.Provider>\n            {hasPreloader &&\n            <Preloader\n                mountContent={mountContent}\n                hasAllLoad={IMG_COUNT === imgLoadCount}\n                hidePreloader={hidePreloader}\n            />\n            }\n        </div>\n    );\n}\n\nexport default App;\n","import {useEffect, useState} from \"react\";\nimport {\n    V_DIRECTION_LIMIT,\n    H_DIRECTION_LIMIT,\n    V_DIRECTION,\n    H_DIRECTION,\n    SCROLL_STEPS_LIMIT,\n    SCROLL_TIMING,\n    SCROLL_DELTA\n} from \"../constants/settings\";\nimport {getDirection} from \"./utils\";\n\nexport function useScrollControl(elementRef, scrollEnabled) {\n    const [scrollControlData, setScrollControlData] = useState(\n        {\n            line: 0,\n            direction: getDirection(window.innerWidth)\n        }\n    );\n\n    useEffect(() => {\n        if (!elementRef.current) return;\n\n        function wheelHandler(event) {\n            if (!scrollEnabled || window.innerWidth <= V_DIRECTION_LIMIT) return;\n\n            // В силу определенных ограничений функции scrollTo из JS, я решил написать свой вариант этой функции\n            function scrollTo(delta, steps = 0) {\n                const curScrollLeft = elementRef.current.scrollLeft;\n                elementRef.current.scrollLeft += delta;\n                if (elementRef.current.scrollLeft !== curScrollLeft && steps < SCROLL_STEPS_LIMIT) {\n                    setTimeout(() => scrollTo(delta, steps + 1), SCROLL_TIMING);\n                }\n            }\n\n            const {deltaY} = event;\n            if (deltaY < 0) scrollTo(-SCROLL_DELTA,);\n            if (deltaY > 0) scrollTo(SCROLL_DELTA,);\n        }\n\n        let oldWidth = window.innerWidth;\n\n        function resizeHandler() {\n            const curWidth = window.innerWidth;\n            const f1 = oldWidth <= V_DIRECTION_LIMIT && curWidth >= H_DIRECTION_LIMIT;\n            const f2 = oldWidth >= H_DIRECTION_LIMIT && curWidth <= V_DIRECTION_LIMIT;\n            if (f1 || f2) {\n                elementRef.current.scrollLeft = 0;\n                elementRef.current.scrollTop = 0;\n            }\n            oldWidth = curWidth;\n            setScrollControlData({line: 0, direction: getDirection(curWidth)});\n        }\n\n        function scrollHandler() {\n            const line = elementRef.current.scrollTop + elementRef.current.scrollLeft;\n            setScrollControlData(oldData => ({...oldData, line}));\n        }\n\n        elementRef.current.addEventListener('mousewheel', wheelHandler);\n        elementRef.current.addEventListener('scroll', scrollHandler);\n        window.addEventListener('resize', resizeHandler);\n\n        return () => {\n            elementRef.current.removeEventListener('mousewheel', wheelHandler);\n            elementRef.current.removeEventListener('scroll', scrollHandler);\n            window.removeEventListener('resize', resizeHandler);\n        }\n    }, [scrollEnabled]);\n\n    return scrollControlData;\n}\n\n// TODO Тестовый хук определения видимости элемента (раздела) сайта\nexport function useElementVisible(elementRef, elementName, line, direction) {\n    useEffect(() => {\n        if (!elementRef.current) return;\n        const {innerWidth, innerHeight} = window;\n        const {x, y, width, height} = elementRef.current.getBoundingClientRect();\n\n        if (direction === V_DIRECTION) {\n            console.log(y < innerHeight && (y + height) > 0 ? `${elementName} виден` : `${elementName} не виден`);\n        }\n        if (direction === H_DIRECTION) {\n            console.log(x < innerWidth && (x + width) > 0 ? `${elementName} виден` : `${elementName} не виден`);\n        }\n    }, [line, direction]);\n}","import React from \"react\";\nimport {render} from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./style/init.scss\";\n\nrender(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}